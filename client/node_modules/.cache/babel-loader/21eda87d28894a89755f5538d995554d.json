{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mrrob\\\\googlebookssearch\\\\client\\\\src\\\\pages\\\\search.js\";\nimport React, { Component } from \"react\";\nimport Results from \"./../components/results\";\nimport { Input, FormBtn } from \"./../components/search\";\nimport API from \"./../utils/API\";\nimport \"./search.css\"; // import { Link } from \"react-router-dom\";\n\nclass SearchPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      title: \"\"\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      }); // console.log(this.state.title);\n    };\n\n    this.logResData = res => {\n      for (let i = 0; i < res.data.items.length; i++) {\n        // console.log(res.data.items[i].volumeInfo);\n        this.state.books.push(res.data.items[i].volumeInfo);\n      } // console.log(\"BOOKS\");\n      // console.log(this.state.books);\n      // console.log(\"END OF BOOKS\");\n\n    };\n\n    this.saveBook = event => {\n      // API.saveBook(props).then(res => console.log(res)).catch(err => console.log(err));\n      // console.log(\"test\");\n      console.log(event);\n      const newObj = {\n        title: event.title,\n        subtitle: event.subtitle,\n        authors: event.authors[0],\n        description: event.description,\n        image: event.image,\n        infoLink: event.infoLink\n      };\n      console.log(newObj); // API.saveBook(event).then(res => console.log(res)).catch(err => console.log(err));\n\n      API.saveBook(newObj).then(res => console.log(res)).catch(err => console.log(err));\n    };\n\n    this.getSearchQuery = event => {\n      // event.preventDefault();\n      event.preventDefault(); // API.getBooks().then(res => this.setState({books: res.data})).catch(err => console.log(err));\n      // API.getBooks().then(res => console.log(res.data.items)).catch(err => console.log(err));\n      // API.getBooks().then(res =>  for(let i = 0; i < res.data.items.length; i++){console.log(res.data.items[i].volumeInfo);}).catch(console.log(err));\n      // API.getBooks().then(res => this.logResData(res)).catch(err => console.log(err));\n      // API.getBooks().then(res => this.setState({books: res.data})).catch(err => console.log(err));\n      // API.getBooks().then(res => console.log(res.data.items)).catch(err => console.log(err));\n\n      API.getBooks(this.state.title).then(res => this.setState({\n        books: res.data.items\n      })).catch(err => console.log(err)); // console.log(this.state.books);\n      // console.log(this.state.books);\n      // console.log(this.state);\n    };\n  }\n\n  //Change all the search functions into individual components\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"jumbotronTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Book Search\")), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"h2\", {\n      className: \"jumbotronTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Book Search\"), React.createElement(Input, {\n      onChange: this.handleInputChange,\n      name: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(FormBtn, {\n      onClick: this.getSearchQuery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Results\"), !this.state.books.length ? React.createElement(\"h1\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"No Books to Display\") : React.createElement(\"div\", {\n      className: \"resultsContainer col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.books.map(book => {\n      // console.log(book.title);\n      return React.createElement(Results, {\n        key: book.title,\n        title: book.volumeInfo.title,\n        subtitle: book.volumeInfo.subtitle,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail,\n        infoLink: book.volumeInfo.infoLink,\n        onClick: this.saveBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["C:\\Users\\mrrob\\googlebookssearch\\client\\src\\pages\\search.js"],"names":["React","Component","Results","Input","FormBtn","API","SearchPage","state","books","title","handleInputChange","event","target","name","value","setState","logResData","res","i","data","items","length","push","volumeInfo","saveBook","console","log","newObj","subtitle","authors","description","image","infoLink","then","catch","err","getSearchQuery","preventDefault","getBooks","render","map","book","imageLinks","thumbnail"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Results from \"./../components/results\";\nimport { Input, FormBtn } from \"./../components/search\";\nimport API from \"./../utils/API\";\nimport \"./search.css\";\n// import { Link } from \"react-router-dom\";\n\nclass SearchPage extends Component {\n    state = {\n        books: [],\n        title: \"\"\n    };\n\n    handleInputChange = event => {\n        const { name, value } = event.target;\n        this.setState({\n            [name]: value\n        });\n        // console.log(this.state.title);\n    }\n\n    logResData = res => {\n        for (let i = 0; i < res.data.items.length; i++) {\n            // console.log(res.data.items[i].volumeInfo);\n            this.state.books.push(res.data.items[i].volumeInfo);\n        }\n        // console.log(\"BOOKS\");\n        // console.log(this.state.books);\n        // console.log(\"END OF BOOKS\");\n    }\n\n    saveBook = event => {\n        // API.saveBook(props).then(res => console.log(res)).catch(err => console.log(err));\n        // console.log(\"test\");\n        console.log(event);\n        const newObj = {\n            title: event.title,\n            subtitle: event.subtitle,\n            authors: event.authors[0],\n            description: event.description,\n            image: event.image,\n            infoLink: event.infoLink,\n        }\n\n        console.log(newObj);\n        // API.saveBook(event).then(res => console.log(res)).catch(err => console.log(err));\n        API.saveBook(newObj).then(res => console.log(res)).catch(err => console.log(err));\n    }\n\n    getSearchQuery = event => {\n        // event.preventDefault();\n        event.preventDefault();\n        // API.getBooks().then(res => this.setState({books: res.data})).catch(err => console.log(err));\n        // API.getBooks().then(res => console.log(res.data.items)).catch(err => console.log(err));\n        // API.getBooks().then(res =>  for(let i = 0; i < res.data.items.length; i++){console.log(res.data.items[i].volumeInfo);}).catch(console.log(err));\n        // API.getBooks().then(res => this.logResData(res)).catch(err => console.log(err));\n        // API.getBooks().then(res => this.setState({books: res.data})).catch(err => console.log(err));\n        // API.getBooks().then(res => console.log(res.data.items)).catch(err => console.log(err));\n        API.getBooks(this.state.title).then(res => this.setState({ books: res.data.items })).catch(err => console.log(err));\n        // console.log(this.state.books);\n        // console.log(this.state.books);\n        // console.log(this.state);\n    }\n\n\n\n\n    //Change all the search functions into individual components\n    render() {\n        return (\n            <div>\n                {/* <Search\n                    onChange={this.handleInputChange}\n                    name=\"title\"\n                    onClick={this.getSearchQuery}\n                /> */}\n                <form>\n                    <div className=\"row\">\n                        <div className=\"col\"></div>\n                        <div className=\"col-6\">\n                            <h2 className=\"jumbotronTitle\">Book Search</h2>\n                        </div>\n                        <div className=\"col\"></div>\n                    </div>\n                    <h2 className=\"jumbotronTitle\">Book Search</h2>\n                    <Input\n                        onChange={this.handleInputChange}\n                        name=\"title\"\n                    />\n                    <FormBtn\n                        onClick={this.getSearchQuery}\n                    />\n                </form>\n                <h2>Results</h2>\n                {!this.state.books.length ? (\n                    <h1 className=\"text-center\">No Books to Display</h1>\n                ) : (\n                        <div className=\"resultsContainer col-12\">\n                            {this.state.books.map(book => {\n                                // console.log(book.title);\n                                return (\n                                    <Results\n                                        key={book.title}\n                                        title={book.volumeInfo.title}\n                                        subtitle={book.volumeInfo.subtitle}\n                                        authors={book.volumeInfo.authors}\n                                        description={book.volumeInfo.description}\n                                        image={book.volumeInfo.imageLinks.thumbnail}\n                                        infoLink={book.volumeInfo.infoLink}\n                                        onClick={this.saveBook}\n                                    />\n                                );\n                            })}\n                        </div>\n\n                    )}\n\n            </div>\n        )\n    }\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}